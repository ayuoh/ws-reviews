<div class="md:shadow md:rounded-lg px-3 py-4 md:px-5 md:py-4 md:m-10 border-b border-b-[rgb(245, 240, 230)] bg-gray-50 text-gray-600">
    <p class="pt-1 pb-3 font-semibold text-base"><%= t('.recommend') %></p>
    <div class="flex justify-around">
      <!-- icon -->
      <%= link_to own_review_path(review) do %>
        <div class="basis-12 md:basis-18 mr-1 md:mr-2 text-xs">
          <%= image_tag review.user.avatar, class: 'rounded-[50%] max-w-full min-w-10 w-10' %>
        </div>
      <% end %>

      <div class="flex-grow relative w-4/5">
        <!-- review内容 -->
        <%= link_to review_path(review) do %>
          <div class="hover:text-gray-950 rounded-lg">
            <p class="text-right text-xs absolute top-0 right-0">
              <%= review.implementation_tarm %>
              <% if review.implementation_last_date < Time.now %>
                <span class="rounded ml-1 px-[5px] py-[4px] text-[0.75em] bg-[rgb(166,217,226)] font-semibold text-white">レビュー</span>
              <% else %>
                <span class="rounded ml-1 px-[5px] py-[4px] text-[0.75em] bg-[rgb(239,123,81)] font-semibold text-white">おすすめ</span>
              <% end %>
            </p>
            <h3 class="font-semibold pt-6 line-clamp-1"><%= review.title %></h3>
            <div class="mt-1 mb-1 whitespace-pre-line line-clamp-3"><%= review.content %></div>
          </div>
          <!-- タグ -->
          <% if review.tags.present? %>
            <div class="mt-1 mb-2 flex flex-wrap gap-y-[0.2rem] gap-x-1">
              <% review.tags.each do |tag| %>
                <span class="inline-block text-sm rounded py-[1.5px] px-2 bg-[rgb(166,217,226)] text-white"><%= tag.name %></span>
              <% end %>
            </div>
          <% end %>
        <% end %>


        <!-- review対象 -->
        <% ogp = OpenGraph.new(review.web_page.url) %>
        <%= link_to review.web_page.url, target: :_blank, rel: "noopener noreferrer" do %>
          <div class="flex border border-solid border-gray-200 rounded-2xl h-20 md:h-32">
            <div class="flex items-center w-full">
              <div class="basis-[5.5rem] md:basis-40 mr-2 md:mr-3 h-full w-1/4"><%= image_tag ogp.images[0], class: 'rounded-l-[0.9rem] h-full object-cover object-center' %></div>

              <div class="pr-4 w-3/4">
                <p class="line-clamp-1"><%= ogp.title %></p>
                <p class="text-gray-400 text-[0.8rem] line-clamp-1 md:line-clamp-2 leading-5"><%= ogp.description %></p>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
