<div class="px-4 md:p-0 pt-8 pb-4 md:m-10 md:mb-0">
  <%= form_with model: @user, url: user_path(@user), local: true do |f| %>
    <%= render partial: 'shared/error_messages', locals: { object: f.object } %>
    <div>
      <div id="image-button" class="block relative min-w-20 w-20 mx-auto cursor-pointer hover:opacity-80">
        <%= image_tag current_user.avatar_img_profile, class: 'rounded-[50%] max-w-full min-w-20 w-20 h-20 mx-auto' %>
        <div class="absolute bottom-[-0.5em] right-[-8px] fill-white bg-[rgba(115,207,223,0.9)] w-[35px] h-[35px] rounded-[50%] flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="18px"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/></svg>
        </div>
      </div>
      <%= f.file_field :storage_avatar_image, accept: 'image/*', id: 'activestorage_avatar_image', class: 'hidden' %>

      <div class="my-6 px-4 flex items-center justify-between gap-8 md:max-w-[70%] md:mx-auto">
          <%= f.label :public_twitter, class: 'text-sm font-medium' %>
          <div class="switchbar inline-block <%= 'checked' if @user.public_twitter %>"><%= f.check_box :public_twitter %></div>
      </div>

      <div class="my-6 px-4 flex items-center justify-between gap-4 md:max-w-[70%] md:mx-auto">
        <%= f.label :name, class: 'text-sm font-medium' %>
        <%= f.text_field :name, class: 'border-[1px] border-gray-200 rounded-lg text-sm text-gray-900 focus:ring-[#c9e8f8] focus:border-[#c9e8f8] p-2.5' %>
      </div>

      <%= f.submit '変更する', class: "block mx-auto align-center w-1/2 md:w-1/3 px-5 py-3 mt-8 text font-medium text-center text-white shadow bg-[rgb(115,207,223)] hover:bg-[rgb(105,189,204)] transition-colors rounded-lg focus:ring-4 focus:ring-[#c9e8f8]" %>
    </div>
  <% end %>

  <div class="mt-12 mb-4 md:mb-0 before:content-[''] before:block before:w-full before:h-[1px] md:before:h-[2px] before:bg-gray-200 before:mb-4 md:before:mb-12 mx-auto">
    <button data-modal-target="default-modal" data-modal-toggle="default-modal" type="button" class="block mx-auto mt-6 align-center w-1/3 md:w-1/4 px-2 py-3 text-xs text-center text-[rgb(239,123,81)] hover:text-white hover:bg-[rgb(239,123,81)] border border-[rgb(239,123,81)] transition-colors rounded-lg">
      <%= t('views.footer.delete') %>
    </button>
  </div>
</div>

<%= render 'users/destroy' %>

<%= javascript_include_tag "image_button.js" %>
<%= javascript_include_tag "switch.js" %>
